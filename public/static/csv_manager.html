<style>
  .fileinput-button {
    position: relative;
    overflow: hidden;
    float: left;    
  }
    
  .fileinput-button input {
    position: absolute;
    top: 0;
    right: 0;
    margin: 0;
    border: solid transparent;
    border-width: 0 0 100px 200px;
    opacity: 0;
    filter: alpha(opacity=0);
    -moz-transform: translate(-300px, 0) scale(4);
    direction: ltr;
    cursor: pointer;
  }
  
  .remove-true {
    text-decoration: line-through;
    color: grey;
  }
</style>

<div class="row-fluid">
  <div class="span12">    
    <div class="form-actions" ng-hide="result.csv">    
      <form class="form-inline pull-left"  id="file_upload_form" method="post" enctype="multipart/form-data" action="csv/upload" target="upload_target" class="form-horizontal">                      
        <div class="btn-group">
          <button class="btn btn-success fileinput-button">
            <i class="icon-plus icon-white"></i>     
            Select File     
            <input type="file" name="file" id="file" onchange="angular.element(this).scope().setFile(this)"/>          
          </button>    

          <button type="submit" class="btn btn-primary start">
            <i class="icon-upload icon-white"></i>          
            Upload
          </button>                
        </div>                         
        CP874 Encoding : <input type="checkbox" name="cp874">
      </form>    
    </div>
    
    <div class="row-fluid">
      <div class="span12">
        <span ng-switch on="success" >
          <span ng-switch-when="false">
            <i class="icon-info-sign"></i>
            There are error of uploading file.
          </span>          
        </span>
      </div>
    </div>
      
    <div class="row-fluid">
      <div class="span12" ng-show="result.csv">
        <div class="form-actions form-inline">
          <a class="btn btn-danger" 
             ng-click="del_element()">
            <i class="icon-trash icon-white"></i>
            <span ng-show="selected_docs.length!=0" 
                  ng-bind="selected_docs.length"></span> Exclude Row
          </a>    
          Column Name :
          <select class="input-small" ng-model="edit_col" 
             ng-options="col.field.name for col in result.col_names"> 
          </select>

          Meaning :
          <select class="input-small" ng-model="edit_col.field" 
             ng-options="field.title for field in field_list"> 
          </select>
          <label class="checkbox">
            <input type="checkbox" ng-model="edit_col.hide" 
               ng-click="hide_col(edit_col)">
            Exclude Column
          </label>
          <a class="btn btn-primary" 
                ng-class="{'disabled':!result.csv||result.csv.length==0}"
                ng-click="save()">
	    <i class="icon-upload icon-white"></i>
	    <span>Save Record</span>
          </a>                

          <span ng-init="document_saved=0" 
                ng-show="document_saved">
            <span class="badge badge-success">{{document_saved}}</span> 
            saved.
          </span> 
         
        </div>
        
        <div class="row-fluid">
          <div class="span12"> 
            <form class="form-inline pull-right" ng-show="result.csv">
              <strong>
                Page {{currentPage+1}}/
                {{(result.csv.length+limit)/limit|number:0}}
              </strong>
              <div class="btn-group">
                <button class="btn" ng-disabled="currentPage == 0"
                   ng-click="currentPage=currentPage-1">&laquo;
                </button>
                <button class="btn"
                   ng-disabled="currentPage >= document_list.length/limit-1"
                   ng-click="currentPage=currentPage+1">&raquo;
                </button>
              </div>
            </form>
          </div>
        </div>

        <div class="row-fluid">
          <div class="span12"> 
            <table class="table table-condensed table-bordered">
              <thead>
                <tr>
                  <th></th>
                  <th ng-repeat="content in result.col_names|hide">
                    {{content.field.name}}
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr ng-class="{'warning':row._ng_selected,'success':row._saved}"
                  ng-repeat="row in result.csv|skip:currentPage*limit|limitTo:limit|hide">
                  <td>
                    <input type="checkbox" ng-model="row._ng_selected">
                  </td>
                  <td ng-repeat="content in row|hide">
                    <span>{{content.value}}</span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="row-fluid">
      <div class="span12">
        <iframe id="upload_target" 
                name="upload_target" 
                style="width:0;height:0;border:0px solid #fff;">
        </iframe>
      </div>
    </div>
</div>
