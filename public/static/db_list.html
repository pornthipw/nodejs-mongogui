<div class="row-fluid">
    <div class="span3">
        <div class="well sidebar-nav">
            <ul class="nav nav-list">
                <li ng-repeat="db in db_list">
                    <div class="nav-header">
                        {{db.db_name}}
                        <i class="icon-chevron-down pull-right" onclick="$('#toggle_{{db.db_name}}').collapse('toggle')"></i>
                    </div>
                    <a ng-src="{{db.db_name}}" ng-click="test(db.db_name)"><i class="icon-folder-open"></i> View Database</a>                
                    <ul class="unstyled collapse nav nav-list" ng-class="show_db_detail_class(db.db_name)" id="toggle_{{db.db_name}}">
                        <li ng-repeat="collection in db.collections">
                            <a  ng-src="{{collection}}" ng-click="get_collection(db.db_name, collection)"><i class="icon-list-alt"></i> {{ collection }}</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        
        <div class="row-fluid" >
            <div ng-hide="!collection_stats">                                                             
                <div class="sidebar-nav">
                    
                    <ul class="nav nav-list" >
                        <li class="nav-header"  ng-hide="!collection_stats">Collection Stats</li>
                        <li  ng-hide="!collection_stats.count">
                            <strong>Documents</strong>
                            <span class="pull-right">{{collection_stats.count}}</span>
                        </li>
                        <li ng-hide="!collection_stats.size">
                            <strong>Total doc size</strong>
                            <span class="pull-right">{{collection_stats.size}}</span>
                        </li>
                        <li ng-hide="!collection_stats.avgObjSize">
                            <strong>Average doc size</strong>
                            <span class="pull-right">{{collection_stats.avgObjSize}}</span>
                        </li>
                        <li ng-hide="!collection_stats.storageSize">
                            <strong>Pre-allocated size</strong>
                            <span class="pull-right">{{collection_stats.storageSize}}</span>
                        </li>
                        <li ng-hide="!collection_stats.nindexes">
                            <strong>Indexes</strong>
                            <span class="pull-right">{{collection_stats.nindexes}}</span>
                        </li>
                        <li ng-hide="!collection_stats.totalIndexSize">
                            <strong>Total index size</strong>
                            <span class="pull-right">{{collection_stats.totalIndexSize}}</span>
                        </li>
                        <li ng-hide="!collection_stats.paddingFactor">
                            <strong>Padding factor</strong>
                            <span class="pull-right">{{collection_stats.paddingFactor}}</span>
                        </li>
                        <li ng-hide="!collection_stats.paddingFactor">
                            <strong>Extents</strong>
                            <span class="pull-right">{{collection_stats.numExtents}}</span>
                        </li>
                    </ul>
                    
                </div>                                                                                                                
             </div>   
        </div>
    </div>
    
    <div class="navbar span9" >
        <div class="row-fluid">            
            <div class="navbar-inner span12">
                <ul class="nav">
                    <li><a href="">Home</a></li>
                    <li><a href="" ng-click="test(selected_db)">{{ selected_db }}</a></li>
                    <li ng-show="showCollectionPage" class="active"><a href="">{{ selected_collection }}</a></li>
                </ul>
            </div>    
        </div>
        
        <!---Database--->
        <div class="row-fluid" ng-show="showDatabasePage">            
            <div class="span12">                
                <h2>Create Collection </h2>            
                <form class="well form-inline" ng-submit="create_collection()" >
                <div class="input-prepend">
                    <span class="add-on">{{ selected_db }} . </span>
                    <input class="input-medium" type="text" id="collection" ng-model="collection_name" name="collection" placeholder="Collection Name" title="Collection Name">
                </div>
                <button type="submit" class="btn btn-primary">
                    <i class="icon-folder-open icon-white"></i> Create collection
                </button>
                </form>
            </div>   
        </div>  
              
         <!---Collection--->
        <div class="row-fluid" ng-show="showCollectionPage">                                    
            <div class="span7">                
                <h2>Rename Collection</h2>
                <form method="POST"  class="well form-inline" ng-submit="rename_collection()">
                    <input type="hidden" name="_method" value="put">
                    <div class="input-prepend">
                        <span class="add-on">{{ selected_db }} . </span>
                        <input class="input-medium" type="text" id="collection" ng-model="new_collection" name="collection" placeholder="{{ collectionName }}">
                    </div>
                    <button type="submit" class="btn btn-primary">
                        <i class="icon-tag icon-white"></i>Rename
                    </button>
                </form>                
            </div>
            
            <div class="span5">                
                <h2>Delete Collection</h2>
                <form  class="well" ng-submit="delete_collection(selected_db,selected_collection)" >
                    <input type="hidden" name="_method" value="delete">
                    <button id="deleteButton" rel="tooltip" type="submit" class="btn btn-danger" 
                            title="Are you sure you want to delete this collection? All documents will be deleted.">
                        <i class="icon-trash icon-white"></i>Delete
                    </button>
                </form>
                
                <script>
                    $('#deleteButton').tooltip({placement:'right'});
                </script>                
            </div>
            
            <!---Document--->

            
            <!--edit Document-->
            <div class="row-fluid">
                <div class="span8" ng-repeat="document in document_list">
                    <textarea readonly="readonly" id="doc_{{ loop.index }}" name="doc_{{ loop.index }}">
                        {{ document }}
                    </textarea>
                    

  
                </div>
                <div class="span1">
                    <br /><br />
                    <form method="POST" action="db/{{ dbName }}/{{ collectionName }}/{{ docs[loop.index0]._id }}">
                        <input type="hidden" name="_method" value="delete">
                        <button type="submit" class="btn btn-danger btn-mini">
                        <i class="icon-remove icon-white"></i>
                        </button>
                    </form>
                </div>
            </div>
            

            <!--list of Document-->
            <!--<div class="row-fluid">
                <table class="table table-striped">
                    <tr ng-repeat="document in document_list">
                        <td>{{document.filename}}</td>
                    </tr>
                </table>
            </div>
            -->
            
            
        </div>                
    </div>                
</div>

