<div class="row-fluid">
 <div class="span12">
  
  <h4>Database Content Manager</h4>
  <div class="row-fluid">
   <div class="span2">
    <ul class="nav nav-list well">
     <li><a href="#/sql/Person">Person</a></li>
     <li><a href="#/sql/Province">Province</a></li>
     <li><a href="#/sql/City">City</a></li>
    </ul>
   </div>

   <div class="span10">

    <div class="row-fluid" ng-hide="entry" ng-init="limit=10">
     <a href="" ng-click="sqlPage=sqlPage-1">Previous</a>
     <a href="" ng-click="sqlPage=sqlPage+1">Next</a>
     {{result.length}}
     <table class="table table-bordered table-condensed">
      <tr>
       <th ng-repeat="name in table.list">
        {{name}}
       </th>
      </tr>
      <tr ng-repeat="row in result|skip:sqlPage*limit|limitTo:limit">
       <td ng-repeat="col in row.content">
         {{col.value}}
       </td>
      </tr>
     </table>
    </div>

    <div class="row-fluid" ng-show="entry">
      <button class="btn" ng-click="entry=null">Back</button>
      <ol>
        <li ng-repeat="col in entry.cols">
          <b>{{col.metadata.colName}}</b>
          : {{col.value}}
        </li>
      </ol>
    </div>
   
    <div class="row-fluid">
     <a href="" ng-click="sync_all()">Synchronize</a>
     {{synced_count}}/{{csv_list.length}}
     <table class="table table-bordered table-condensed">
      <tr>
       <th></th>
       <th ng-repeat="name in table.list">
        {{name}}
       </th>
      </tr>
      <tr ng-repeat="csv in csv_list|limitTo:50">
       <td>
        <a href="" ng-click="sync(csv)" 
           ng-hide="csv._sync_table[table.name]">Sync</a>
       </td>
       <td ng-repeat="name in table.list">
        {{csv[table.name+'_'+name]}}
       </td>
      </tr>
     </table>
    </div>
   </div>
  </div>
 </div>
</div>
