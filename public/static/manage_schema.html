<div class="row-fluid">
  <div class="span12">
    <div class="page-header">
      <h1>Schema <small> <span ng-bind="db.stats.db"></span></small></h1>
    </div>
    
    <ul class="breadcrumb">
      <li><a href="#">Home</a> <span class="divider">/</span></li>
      <li class="active">Schema <span class="divider">/</span></li>
      <li><a href="#/query">Query</a></li>
    </ul>
    
    <div class="row-fluid">
      <div class="span5">
        <p>
          There are <span class="badge" ng-bind="stats.count | number"></span>
          of objects or documents in this collection.
        </p>
        <ul>
          <li ng-repeat="schema in table_schemas">
            <a href="#/collections/{{name}}/schema/{{schema._id}}">{{schema.name}}</a> 
            (<span ng-repeat="(key, value) in schema.fields">
              {{value}} <span ng-hide="$last">,</span>
            </span>)
            <a href="" ng-click="edit_document(schema)">Edit</a> 
                <button type="button" data-target="#myModal" 
                  ng-click="edit_document(schema)" 
                  class="btn btn-primary btn-small" 
                  data-toggle="modal">
                  <i class="icon-pencil icon-white"></i>
                </button>
                <a href="" ng-click="edit_field(schema._id)">modify</a> 
              <!--<a href="#/collections/{{name}}/schema">View Schema</a> -->
          </li>
        </ul>
        
        <p>
         <button class="btn btn-primary" 
           ng-click="add()" data-target="#myModal"
           data-toggle="modal">
           <i class="icon-upload icon-white"></i> Add Document
         </button>
         <a href="#/csv/{{name}}" class="btn btn-success"> 
           <i class="icon-upload icon-white"></i> Upload CVS File 
         </a>
        </p>
      </div>
      
      <div class="span7">
        <strong>Create Schema</strong>
        <form class="form-horizontal">  
        
          <div class="control-group">
            <label class="control-label" for="inputName">name</label>
            <div class="controls">
              <input type="text" id="inputName" placeholder="Name" ng-model="schema.name">
            </div>
          </div>
          
          <div class="control-group" ng-repeat="field in schema.fields">
            <label class="control-label" for="inputFieldName">{{field.title}}</label>
            <div class="controls">
              <input type="text"  placeholder="Name" ng-model="field.name">
              <input type="text"  placeholder="Title" ng-model="field.title">
               <button ng-click="del_field($index)" class="btn btn-primary" type="submit"> <i class="icon-ok icon-white"></i> Save</button>
            </div>
          </div>
          
          <div class="control-group">
            <div class="controls">
              <button ng-click="create_schema()" class="btn btn-primary" type="submit"> <i class="icon-ok icon-white"></i> Save</button>
                <a href="#/" class="btn btn-danger"><i class="icon-ban-circle icon-white"></i> Cancel</a> 
                <a href="" class="btn btn-info" ng-click="add_field()"><i class="icon-ban-circle icon-white"></i> Add Field</a> 
            </div>
          </div>
          
        </form>
      </div>
    </div>

  </div>
</div>
